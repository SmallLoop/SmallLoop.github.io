{"meta":{"title":"肥皂味的格子衫","subtitle":"一路跋涉，一路找寻","description":"随记,Note","author":"kustar","url":"https://blog.lzzl.de","root":"/"},"pages":[{"title":"所有分类","date":"2024-12-02T05:46:54.563Z","updated":"2024-12-02T05:46:54.563Z","comments":true,"path":"categories/index.html","permalink":"https://blog.lzzl.de/categories/index.html","excerpt":"","text":""},{"title":"archives","date":"2024-12-02T05:39:01.000Z","updated":"2024-12-02T05:47:13.100Z","comments":true,"path":"archives/index.html","permalink":"https://blog.lzzl.de/archives/index.html","excerpt":"","text":""},{"title":"所有标签","date":"2024-12-02T05:46:36.947Z","updated":"2024-12-02T05:46:36.947Z","comments":true,"path":"tags/index.html","permalink":"https://blog.lzzl.de/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Nginx示例","slug":"nginx-example","date":"2025-01-13T02:16:17.000Z","updated":"2025-01-13T08:21:03.110Z","comments":true,"path":"2025/01/13/nginx-example/","permalink":"https://blog.lzzl.de/2025/01/13/nginx-example/","excerpt":"","text":"Nginx反代http简单示例1234567891011121314151617181920server &#123; listen 80; listen [::]:80; server_name www.example.com; return 301 https://www.example.com$request_uri;&#125;server &#123; listen 443 ssl; listen [::]:443 ssl; server_name www.example.com; ssl_certificate /etc/nginx/cert/example.pem; ssl_certificate_key /etc/nginx/cert/nav.key; location / &#123; proxy_pass http://127.0.0.1:8080; proxy_set_header Host $http_host; proxy_set_header Upgrade $http_upgrade; &#125; &#125; Nginx反代Cloudflare Work社区相关解答:https://community.cloudflare.com/t/access-cloudflare-workers-with-nginx-proxy/478073/3123456789101112131415161718192021server &#123; listen 80; listen [::]:80; server_name www.example.com; return 301 https://www.example.com$request_uri;&#125;server &#123; listen 443 ssl; listen [::]:443 ssl; server_name www.example.com; ssl_certificate /etc/nginx/cert/example.pem; ssl_certificate_key /etc/nginx/cert/example.key; location / &#123; proxy_pass https://nav.example.workers.dev; #移除所有默认 proxy 配置 #proxy_set_header Host $http_host; #proxy_set_header Upgrade $http_upgrade; proxy_ssl_server_name on; &#125;&#125;","categories":[{"name":"随笔","slug":"随笔","permalink":"https://blog.lzzl.de/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://blog.lzzl.de/tags/Nginx/"}],"author":"kustar"},{"title":"SSH登录","slug":"sshlogin","date":"2024-12-23T08:38:28.000Z","updated":"2024-12-23T08:41:27.916Z","comments":true,"path":"2024/12/23/sshlogin/","permalink":"https://blog.lzzl.de/2024/12/23/sshlogin/","excerpt":"","text":"生成公钥和密钥1ssh-keygen 复制公钥到服务器1ssh-copy-id username(用户名)@your_server_ip(服务器IP) 连接SSH1ssh username@your_server_ip","categories":[{"name":"随笔","slug":"随笔","permalink":"https://blog.lzzl.de/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"SSH","slug":"SSH","permalink":"https://blog.lzzl.de/tags/SSH/"}],"author":"kustar"},{"title":"SSL证书安装","slug":"ssl","date":"2024-12-23T08:09:51.000Z","updated":"2024-12-23T08:37:10.168Z","comments":true,"path":"2024/12/23/ssl/","permalink":"https://blog.lzzl.de/2024/12/23/ssl/","excerpt":"","text":"安装证书工具：1curl https://get.acme.sh | sh; apt install socat -y || yum install socat -y; ~/.acme.sh/acme.sh --set-default-ca --server letsencrypt 三种方式任选其中一种，申请失败则更换方式 申请证书方式1： IPv4:1~/.acme.sh/acme.sh --issue -d 域名 --standalone -k ec-256 --force --insecure IPV6:1~/.acme.sh/acme.sh --issue -d 域名 --standalone -k ec-256 --force --insecure --listen-v6 --debug 申请证书方式2：1~/.acme.sh/acme.sh --register-account -m &quot;$&#123;RANDOM&#125;@chacuo.net&quot; --server buypass --force --insecure &amp;&amp; ~/.acme.sh/acme.sh --issue -d 域名 --standalone -k ec-256 --force --insecure --server buypass 申请证书方式3：1~/.acme.sh/acme.sh --register-account -m &quot;$&#123;RANDOM&#125;@chacuo.net&quot; --server zerossl --force --insecure &amp;&amp; ~/.acme.sh/acme.sh --issue -d 域名 --standalone -k ec-256 --force --insecure --server zerossl 安装证书：1~/.acme.sh/acme.sh --install-cert -d 域名 --ecc --key-file /etc/x-ui/server.key --fullchain-file /etc/x-ui/server.crt CentOS错误:提示：curl: (60) The certificate issuer’s certificate has expired. Check your system date and time.解决如下：123rpm -q ca-certificatesrpm -q ca-certificates --changelog | headyum -y update ca-certificates","categories":[{"name":"随笔","slug":"随笔","permalink":"https://blog.lzzl.de/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"SSL","slug":"SSL","permalink":"https://blog.lzzl.de/tags/SSL/"},{"name":"证书","slug":"证书","permalink":"https://blog.lzzl.de/tags/%E8%AF%81%E4%B9%A6/"}],"author":"kustar"},{"title":"Nginx安装","slug":"nginx","date":"2024-12-02T10:06:13.000Z","updated":"2024-12-30T05:04:12.605Z","comments":true,"path":"2024/12/02/nginx/","permalink":"https://blog.lzzl.de/2024/12/02/nginx/","excerpt":"","text":"首先安装编译工具及相关依赖库1sudo apt install make gcc libpcre3 libpcre3-dev zlib1g-dev libssl-dev 下载最新nginx源代码编译1234567891011121314151617wget https://nginx.org/download/nginx-1.26.2.tar.gztar -zxvf nginx-1.26.2.tar.gzmv nginx-1.26.2 nginxcd nginx./configure --with-stream \\ --with-stream_ssl_module \\ --with-stream_ssl_preread_module \\ --with-stream=dynamic \\ --with-http_ssl_module \\ --with-http_ssl_module \\ --with-http_v2_module \\ --with-http_v3_module \\ --with-http_gunzip_module \\ --with-http_gzip_static_module \\ --with-http_sub_modulemakemake install 配置服务123456789101112131415nano /etc/systemd/system/nginx.service# 添加以下内容[Unit]Description=The NGINX HTTP and reverse proxy serverAfter=network.target remote-fs.target nss-lookup.target[Service]Type=forkingPIDFile=/usr/local/nginx/logs/nginx.pidExecStart=/usr/local/nginx/sbin/nginxExecReload=/usr/local/nginx/sbin/nginx -s reloadExecStop=/usr/local/nginx/sbin/nginx -s stopPrivateTmp=true[Install]WantedBy=multi-user.target 重新加载服务1sudo systemctl daemon-reload 配置开机自启1sudo systemctl enable nginx Docker安装方式(自定义文件挂载路径)Docker安装：curl -fsSL https://get.docker.com | bash -s docker123456docker run --name nginx \\ -itd --network=host \\ -p 80:80 -p 443:443 \\ -v /root/nginx-data/conf:/etc/nginx/conf.d \\ -v /root/nginx-data/cert:/etc/nginx/cert \\ -d --restart=always nginx","categories":[{"name":"随笔","slug":"随笔","permalink":"https://blog.lzzl.de/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://blog.lzzl.de/tags/Nginx/"}],"author":"kustar"}],"categories":[{"name":"随笔","slug":"随笔","permalink":"https://blog.lzzl.de/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://blog.lzzl.de/tags/Nginx/"},{"name":"SSH","slug":"SSH","permalink":"https://blog.lzzl.de/tags/SSH/"},{"name":"SSL","slug":"SSL","permalink":"https://blog.lzzl.de/tags/SSL/"},{"name":"证书","slug":"证书","permalink":"https://blog.lzzl.de/tags/%E8%AF%81%E4%B9%A6/"}]}